{"version":3,"sources":["gameCtrl.js"],"names":["EventListener","require","global","cc","Class","extends","Component","onLoad","game","addPersistRootNode","node","eventlistener","physicsManager","director","getPhysicsManager","enabled","syncData","removeCacheData","localDataManager","removeItem","cachePlayerData","getObject","cacheData","playerData","setObject","cacheGameData","gameData","goFeed","sceneManager","loadScene"],"mappings":";;;;;;AAAA,IAAIA,gBAAgBC,QAAQ,kBAAR,CAApB;AACA,IAAIC,SAASD,QAAQ,UAAR,CAAb;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAEL;AACAC,UAHK,oBAGK;AACNJ,WAAGK,IAAH,CAAQC,kBAAR,CAA2B,KAAKC,IAAhC;AACAR,eAAOS,aAAP,GAAuBX,cAAc,EAAd,CAAvB;AACA;AACA;AACA;AACA;AACA;AACA,aAAKY,cAAL,GAAsBT,GAAGU,QAAH,CAAYC,iBAAZ,EAAtB;AACA,aAAKF,cAAL,CAAoBG,OAApB,GAA8B,IAA9B;AACA;AACA;AACA,aAAKC,QAAL;AACH,KAhBI;;AAiBLC,qBAAgB,2BAAU;AACtBf,eAAOgB,gBAAP,CAAwBC,UAAxB,CAAmC,YAAnC;AACH,KAnBI;AAoBLH,cAAS,oBAAU;AACf,YAAII,kBAAkBlB,OAAOgB,gBAAP,CAAwBG,SAAxB,CAAkC,YAAlC,CAAtB;AACA,YAAGD,mBAAmB,IAAtB,EAA2B;AACvB,gBAAIE,YAAYpB,OAAOqB,UAAvB;AACArB,mBAAOgB,gBAAP,CAAwBM,SAAxB,CAAkC,YAAlC,EAA+CF,SAA/C;AACH,SAHD,MAGK;AACDpB,mBAAOqB,UAAP,GAAoBH,eAApB;AACH;AACD,YAAIK,gBAAgBvB,OAAOgB,gBAAP,CAAwBG,SAAxB,CAAkC,UAAlC,CAApB;AACA,YAAGI,iBAAiB,IAApB,EAAyB;AACrB,gBAAIH,YAAYpB,OAAOwB,QAAvB;AACAxB,mBAAOgB,gBAAP,CAAwBM,SAAxB,CAAkC,UAAlC,EAA6CF,SAA7C;AACH,SAHD,MAGK;AACDpB,mBAAOwB,QAAP,GAAkBD,aAAlB;AACH;AACJ,KAnCI;AAoCLE,YAAO,kBAAU;AACbzB,eAAO0B,YAAP,CAAoBC,SAApB,CAA8B,MAA9B;AACH;AAtCI,CAAT","file":"gameCtrl.js","sourceRoot":"../../../../assets/Script","sourcesContent":["var EventListener = require(\"./event-listener\");\nvar global = require(\"./global\");\n\ncc.Class({\n    extends: cc.Component,\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        cc.game.addPersistRootNode(this.node);\n        global.eventlistener = EventListener({});\n        //碰撞检测开启\n        // cc.director.getCollisionManager().enabled = true;\n        // cc.director.getCollisionManager().enabledDebugDraw = true;\n        // cc.director.getCollisionManager().enabledDrawBoundingBox = true;\n        //物理效果开启\n        this.physicsManager = cc.director.getPhysicsManager();\n        this.physicsManager.enabled = true;\n        // this.physicsManager.enabledAccumulator = true\n        // this.physicsManager.FIXED_TIME_STEP = 0.1\n        this.syncData()\n    },\n    removeCacheData:function(){\n        global.localDataManager.removeItem(\"playerData\")\n    },\n    syncData:function(){\n        var cachePlayerData = global.localDataManager.getObject(\"playerData\")\n        if(cachePlayerData == null){\n            var cacheData = global.playerData\n            global.localDataManager.setObject(\"playerData\",cacheData)\n        }else{\n            global.playerData = cachePlayerData\n        }\n        var cacheGameData = global.localDataManager.getObject(\"gameData\")\n        if(cacheGameData == null){\n            var cacheData = global.gameData\n            global.localDataManager.setObject(\"gameData\",cacheData)\n        }else{\n            global.gameData = cacheGameData\n        }\n    },\n    goFeed:function(){\n        global.sceneManager.loadScene(\"game\")\n    },\n});\n"]}